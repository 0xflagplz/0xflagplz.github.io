<!DOCTYPE html  PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN'  'http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd'><html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>in memory slides</title>
</head><body><tt><ul><li style="list-style-type: none"><ul><li style="list-style-type: none"/>
<li style="list-style-type: none"/>
<li style="list-style-type: none"><a href="https://youtu.be/H0_CKdwbMRk?t=5151">A Payloads Life</a>- describes a lot of the proccess a dll takes to execute</li>
<li style="list-style-type: none"/>
<li style="list-style-type: none"><img height="338" src="image 10.png" width="700"/> 			<img height="350" src="image 4.png" width="600"/><img height="296" src="image 5.png" width="250"/></li>
<li style="list-style-type: none"><img height="386" src="image 11.png" width="600"/></li>
<li style="list-style-type: none"/>
<li style="list-style-type: none"/>
</ul>
</li>
</ul>
<b><span style="font-size: 20pt">Module Stomping</span></b><ul><li style="list-style-type: none"><ul><b><span style="font-size: 20pt"><li style="list-style-type: none"><img height="46" src="image 2.png" width="400"/></li>
</span></b><li style="list-style-type: none"><ul><li style="list-style-type: none"><ul><span style="font-size: 20pt"><i><li style="list-style-type: none">Dangers ~ </li>
</i></span><li style="list-style-type: none"><ul><li style="list-style-type: none"><span style="font-size: 14pt">if you choose a module that one of you process context needs to load later, and instead refrences youre stomped module, <span style="color: #ff0000">it will crash</span></span></li>
<li style="list-style-type: none"><span style="font-size: 14pt">if the module is too small, your beacon will crash when trying to write itself into the module space</span></li>
<span style="font-size: 18pt"><i><li style="list-style-type: none"/>
</i><li style="list-style-type: none"><b>you also now have a really odd dll loading everywhere your beacon is loading</b></li>
</span><li style="list-style-type: none"><ul><span style="font-size: 16pt"><i><li style="list-style-type: none"><span style="color: #ff0000"><b>you</b></span><b><span style="color: #ff0000">should be using this technique on your long haul access</span><span style="color: #ff0000">server</span></b></li>
</i></span><li style="list-style-type: none"><ul><span style="font-size: 16pt"><i><li style="list-style-type: none">its good pratice to seperate your persistance callbacks from post exploitation</li>
</i></span><li style="list-style-type: none"><span style="font-size: 16pt"><i>also <b>making beacons harder to find in memory</b></i></span></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li style="list-style-type: none"/>
</ul>
</li>
</ul>
<img height="383" src="image.png" width="650"/><br/>
<br/>
<ul><span style="font-size: 16pt"><li style="list-style-type: none">Memory Content</li>
</span><li style="list-style-type: none"><ul><li style="list-style-type: none">Consider setting <b>image_size_x86</b>and <b>image_size_x64</b>values</li>
<li style="list-style-type: none"><ul><li style="list-style-type: none">this will change the size of image header (how much memory a beacon will request )</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul><li style="list-style-type: none"><ul><li style="list-style-type: none"><b>Prepend</b>will offeset beacon payload from natural boundry or region of memory</li>
<li style="list-style-type: none"/>
<li style="list-style-type: none"><b>Obfuscate -&gt; True</b></li>
<li style="list-style-type: none"/>
<li style="list-style-type: none"><b>Cleanup</b>--&gt; <b>True  </b>(cleanup reflective dll package)</li>
<b><li style="list-style-type: none"/>
</b><li style="list-style-type: none"><b>sleep_mask --&gt; obfuscate code while asleep, deobfuscate when awake</b></li>
</ul>
</li>
</ul>
<ul><li style="list-style-type: none"><ul><li style="list-style-type: none"><img height="36" src="image 3.png" width="500"/></li>
</ul>
</li>
</ul>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
</tt></body></html>